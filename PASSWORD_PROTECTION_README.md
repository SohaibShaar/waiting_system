# ๐ ูุธุงู ุญูุงูุฉ ุงูุตูุญุงุช ุจูููุฉ ูุฑูุฑ

ุชู ุฅุถุงูุฉ ูุธุงู ุญูุงูุฉ ุจูููุฉ ูุฑูุฑ ูุฌููุน ุตูุญุงุช ุงูุชุทุจูู (ูุง ุนุฏุง Display ูุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ).

## ูููุงุช ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ

### ูููุฉ ุงููุฑูุฑ ุงูุนุงูุฉ (ุชุนูู ุนูู ุฌููุน ุงูุตูุญุงุช)
- **ุงููููุฉ**: `admin123`
- **ุงูุงุณุชุฎุฏุงู**: ูููู ุงุณุชุฎุฏุงููุง ููุฏุฎูู ุฅูู ุฃู ุตูุญุฉ

### ูููุงุช ูุฑูุฑ ุงูุตูุญุงุช ุงููุฑุฏูุฉ

| ุงูุตูุญุฉ | ูููุฉ ุงููุฑูุฑ |
|--------|-------------|
| ุงูุงุณุชูุจุงู (Reception) | `r123` |
| ุงููุญุงุณุจุฉ (Accounting) | `a123` |
| ุงููุญุต ุงูุทุจู (Lab) | `l123` |
| ุณุญุจ ุงูุฏู (Blood Draw) | `b123` |
| ุงูุทุจูุจุฉ (Doctor) | `d123` |

## ุงูุตูุญุงุช ุบูุฑ ุงููุญููุฉ

- **ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ**: `/` - ูุชุงุญุฉ ููุฌููุน
- **ุดุงุดุฉ ุงูุนุฑุถ**: `/display` - ูุชุงุญุฉ ููุฌููุน

## ุขููุฉ ุงูุนูู

1. ุนูุฏ ุงูุฏุฎูู ุฅูู ุฃู ุตูุญุฉ ูุญููุฉุ ุณูุธูุฑ modal ูุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ
2. ูููู ุงุณุชุฎุฏุงู ูููุฉ ุงููุฑูุฑ ุงูุนุงูุฉ ุฃู ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจุงูุตูุญุฉ
3. ุจุนุฏ ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ ุงูุตุญูุญุฉุ ูุชู ุญูุธ ุงูุฌูุณุฉ ูู `sessionStorage`
4. ุงูุฌูุณุฉ ุชุณุชูุฑ ุญุชู ุฅุบูุงู ุงููุชุตูุญ ุฃู ุงูุชุจููุจ

## ุชุบููุฑ ูููุงุช ุงููุฑูุฑ

### ุนุจุฑ API

#### ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ุงูุนุงูุฉ
```bash
PUT http://localhost:3003/api/auth/master-password
Content-Type: application/json

{
  "newPassword": "ูููุฉ_ุงููุฑูุฑ_ุงูุฌุฏูุฏุฉ"
}
```

#### ุชุบููุฑ ูููุฉ ูุฑูุฑ ุตูุญุฉ ูุญุฏุฏุฉ
```bash
PUT http://localhost:3003/api/auth/page-password/:pageName
Content-Type: application/json

{
  "newPassword": "ูููุฉ_ุงููุฑูุฑ_ุงูุฌุฏูุฏุฉ"
}
```

ูุซุงู:
```bash
PUT http://localhost:3003/api/auth/page-password/reception
Content-Type: application/json

{
  "newPassword": "reception_new_password"
}
```

### ุนุจุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ููููู ุชุบููุฑ ูููุงุช ุงููุฑูุฑ ูุจุงุดุฑุฉ ูู ุฌุฏุงูู:
- `master_password` - ูููููุฉ ุงูุนุงูุฉ
- `page_passwords` - ููููุงุช ูุฑูุฑ ุงูุตูุญุงุช

## ููุงุญุธุงุช ุฃูููุฉ

โ๏ธ **ุชุญุฐูุฑ**: ูููุงุช ุงููุฑูุฑ ูุฎุฒูุฉ ููุต ุนุงุฏู (ุจุฏูู ุชุดููุฑ) ููุง ุชู ุงูุทูุจ. ูุฐุง ุงููุธุงู ูุฎุตุต ููุงุณุชุฎุฏุงู ุงูุฏุงุฎูู ููุท.

## API Endpoints

### ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ
```
POST /api/auth/verify-page
```
**Body:**
```json
{
  "pageName": "reception",
  "password": "r123"
}
```

**Response:**
```json
{
  "success": true,
  "token": "random_token_here",
  "isMaster": false,
  "message": "ุชู ุงูุชุญูู ุจูุฌุงุญ"
}
```

### ุฌูุจ ุฌููุน ูููุงุช ุงููุฑูุฑ
```
GET /api/auth/passwords
```

**Response:**
```json
{
  "success": true,
  "passwords": [
    {
      "id": 1,
      "pageName": "reception",
      "password": "r123",
      "isActive": true,
      "createdAt": "...",
      "updatedAt": "..."
    }
  ]
}
```

## ุงูุชูุงูู ูุน Frontend

ุงูุตูุญุงุช ุงููุญููุฉ ูุญุงุทุฉ ุจู `<PasswordProtectedRoute>`:

```tsx
<Route
  path='/reception'
  element={
    <PasswordProtectedRoute pageName='reception'>
      <ReceptionPage />
    </PasswordProtectedRoute>
  }
/>
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ" ุฑุบู ุฅุฏุฎุงู ุงููููุฉ ุงูุตุญูุญุฉ
- ุชุญูู ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุญุชูู ุนูู ูููุงุช ุงููุฑูุฑ
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ุฒุงุฆุฏุฉ ูู ูููุฉ ุงููุฑูุฑ
- ุชุญูู ูู ุญูู `isActive` ูู ุงูุฌุฏูู

### ุงููุดููุฉ: ูุทูุจ ูููุฉ ุงููุฑูุฑ ูู ูู ูุฑุฉ
- ุชุฃูุฏ ูู ุฃู ุงููุชุตูุญ ูุณูุญ ุจู `sessionStorage`
- ุชุญูู ูู ุฃู ุงุณู ุงูุตูุญุฉ (`pageName`) ุตุญูุญ

### ุงููุดููุฉ: ุงูู API ูุง ูุณุชุฌูุจ
- ุชุฃูุฏ ูู ุชุดุบูู Backend ุนูู ุงููููุฐ 3003
- ุชุญูู ูู ุฃู ุฌุฏุงูู `page_passwords` ู `master_password` ููุฌูุฏุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

## ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### Backend
- `prisma/schema.prisma` - ุฅุถุงูุฉ ุฌุฏุงูู PagePassword ู MasterPassword
- `prisma/seed-passwords.ts` - script ูุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุฃูููุฉ
- `src/services/auth.service.ts` - ููุทู ุงููุตุงุฏูุฉ
- `src/controllers/auth.controller.ts` - ูุนุงูุฌุงุช API
- `src/routes/auth.routes.ts` - ูุณุงุฑุงุช API
- `src/index.ts` - ุฅุถุงูุฉ auth routes

### Frontend
- `web/src/components/PasswordProtectedRoute.tsx` - ูููู ุงูุญูุงูุฉ
- `web/src/App.tsx` - ุชุบููู ุงูุตูุญุงุช ุงููุญููุฉ

## ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุทูุฑ ุงููุธุงู.

