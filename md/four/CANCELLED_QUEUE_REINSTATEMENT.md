# ูุธุงู ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ูุนุฑุถ ูุฅุนุงุฏุฉ ุชูุนูู ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ ูู ุตูุญุฉ ุงูุงุณุชูุจุงู.

## ุงููุฒุงูุง ุงูุฌุฏูุฏุฉ

### 1. ุนุฑุถ ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ
- ุฒุฑ "๐ ุงูููุบุงุฉ" ูู ุตูุญุฉ ุงูุงุณุชูุจุงู ูุนุฑุถ ุฌููุน ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ ููููู
- Modal ูุนุฑุถ ูุงุฆูุฉ ุจุงูุฃุฏูุงุฑ ุงูููุบุงุฉ ูุน ุชูุงุตูู ูุงููุฉ:
  - ุฑูู ุงูุฏูุฑ ุงูููุบู
  - ุงุณู ุงููุฑูุถ
  - ุงููุญุทุฉ ุงูุชู ุฃูุบู ูููุง
  - ููุช ุงูุฅูุบุงุก
  - ุงูุฃููููุฉ
  - ุงูููุงุญุธุงุช

### 2. ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุงูุฏูุฑ
- ุฒุฑ "๐จ๏ธ ุฅุนุงุฏุฉ ุทุจุงุนุฉ" ููู ุฏูุฑ ููุบู
- ุนูุฏ ุงูุถุบุท ุนูู ุงูุฒุฑ:
  - ูุชู ุฅูุดุงุก ุฏูุฑ ุฌุฏูุฏ ุจุฑูู ูุฑูุฏ
  - ูุจุฏุฃ ุงูุฏูุฑ ูู ููุณ ุงููุญุทุฉ ุงูุชู ุฃูุบู ูููุง
  - ูุชู ูุณุฎ ุฌููุน ุจูุงูุงุช ุงูุงุณุชูุจุงู ุฅูู ุงูุฏูุฑ ุงูุฌุฏูุฏ
  - ุทุจุงุนุฉ ุฑูู ุงูุฏูุฑ ุงูุฌุฏูุฏ ุชููุงุฆูุงู
  - ุฅุฒุงูุฉ ุงูุฏูุฑ ูู ูุงุฆูุฉ ุงูููุบุงุฉ ููุฑุงู

## ุงูุชูุงุตูู ุงูุชูููุฉ

### Backend

#### 1. Service Layer (`src/services/queue.service.ts`)
```typescript
// ุฌูุจ ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ ููููู ุงูุญุงูู
async function getCancelledQueuesForToday()

// ุฅุนุงุฏุฉ ุชูุนูู ุฏูุฑ ููุบู
async function reinstateQueue(queueId: number)
```

#### 2. Controller Layer (`src/controllers/queue.controller.ts`)
```typescript
// GET /api/queue/cancelled/today
export async function getCancelledQueues(req, res)

// POST /api/queue/:id/reinstate
export async function reinstateQueueById(req, res)
```

#### 3. Routes (`src/routes/queue.routes.ts`)
```typescript
router.get("/cancelled/today", getCancelledQueues);
router.post("/:id/reinstate", reinstateQueueById);
```

### Frontend

#### ุชุญุฏูุซุงุช ูู `web/src/pages/ReceptionPage.tsx`
1. **States ุฌุฏูุฏุฉ:**
   - `showCancelledModal`: ููุชุญูู ูู ุนุฑุถ Modal
   - `cancelledQueues`: ูุงุฆูุฉ ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ
   - `loadingCancelled`: ุญุงูุฉ ุงูุชุญููู

2. **Functions ุฌุฏูุฏุฉ:**
   - `fetchCancelledQueues()`: ุฌูุจ ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ
   - `handleReinstateQueue()`: ุฅุนุงุฏุฉ ุชูุนูู ุฏูุฑ ููุบู
   - `handleOpenCancelledModal()`: ูุชุญ Modal

3. **UI Components:**
   - ุฒุฑ "๐ ุงูููุบุงุฉ" ูู Sidebar header
   - Modal ููุจุซู ุจุชุตููู ุงุญุชุฑุงูู
   - ูุงุฆูุฉ ุจุทุงูุงุช ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ
   - ุฒุฑ ุฅุนุงุฏุฉ ุทุจุงุนุฉ ููู ุฏูุฑ

## ุขููุฉ ุงูุนูู

### ุณููุงุฑูู ุงูุงุณุชุฎุฏุงู:
1. ุงููุณุชุฎุฏู ูู ุตูุญุฉ ุงูุงุณุชูุจุงู ูุถุบุท ุนูู ุฒุฑ "๐ ุงูููุบุงุฉ"
2. ููุชุญ Modal ููุชู ุฌูุจ ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ ููููู
3. ูุนุฑุถ ุงููุธุงู ูุงุฆูุฉ ุจุฌููุน ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ ูุน ุชูุงุตูููุง
4. ุนูุฏ ุงูุถุบุท ุนูู "๐จ๏ธ ุฅุนุงุฏุฉ ุทุจุงุนุฉ":
   - ูุธูุฑ ุชุฃููุฏ ูููุณุชุฎุฏู
   - ูุชู ุฅูุดุงุก ุฏูุฑ ุฌุฏูุฏ ุจุฑูู ูุฑูุฏ (ูุซูุงู: ุงูุฏูุฑ ุงูููุบู #25 โ ุงูุฏูุฑ ุงูุฌุฏูุฏ #157)
   - ุงูุฏูุฑ ุงูุฌุฏูุฏ ูุจุฏุฃ ูู ููุณ ุงููุญุทุฉ ุงูุชู ุฃูุบู ูููุง
   - ูุชู ูุณุฎ ุฌููุน ุจูุงูุงุช ReceptionData
   - ุทุจุงุนุฉ ุงูุฏูุฑ ุชููุงุฆูุงู
   - ุฅุฒุงูุฉ ุงูุฏูุฑ ูู ูุงุฆูุฉ ุงูููุบุงุฉ
   - ุชุญุฏูุซ ูุงุฆูุฉ ุงููุฑุงุฌุนูู

### ุงูููุงุฆุฏ:
- โ **ุฑูู ุฏูุฑ ุฌุฏูุฏ ูุฑูุฏ**: ูุง ููุฌุฏ ุชุนุงุฑุถ ูุน ุงูุฃุฏูุงุฑ ุงูุญุงููุฉ
- โ **ุงูุญูุงุธ ุนูู ุงูุจูุงูุงุช**: ูุง ุญุงุฌุฉ ูุฅุนุงุฏุฉ ุฅุฏุฎุงู ุจูุงูุงุช ุงููุฑูุถ
- โ **ุงุณุชูุฑุงุฑูุฉ ุงูุณูุฑ**: ูุจุฏุฃ ูู ุงููุญุทุฉ ุงูุชู ูุงู ูููุง
- โ **ุณูููุฉ ุงูุชุชุจุน**: ูููู ูุนุฑูุฉ ุฃู ุงูุฏูุฑ ููุนุงุฏ ูู ุงูููุงุญุธุงุช
- โ **ูุงุฌูุฉ ุณููุฉ**: ุนูููุฉ ุจุณูุทุฉ ุจุถุบุทุฉ ุฒุฑ ูุงุญุฏุฉ

## ุงููููุงุช ุงููุนุฏูุฉ

### Backend:
- โ `src/services/queue.service.ts`
- โ `src/controllers/queue.controller.ts`
- โ `src/routes/queue.routes.ts`

### Frontend:
- โ `web/src/pages/ReceptionPage.tsx`

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ Backend:
```bash
# ุฌูุจ ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ
GET http://localhost:3003/api/queue/cancelled/today

# ุฅุนุงุฏุฉ ุชูุนูู ุฏูุฑ
POST http://localhost:3003/api/queue/:id/reinstate
```

### ุงุฎุชุจุงุฑ Frontend:
1. ุงูุชุญ ุตูุญุฉ ุงูุงุณุชูุจุงู
2. ุงุถุบุท ุนูู ุฒุฑ "๐ ุงูููุบุงุฉ" ูู ุฃุนูู Sidebar
3. ุชุญูู ูู ุธููุฑ Modal ุจุงูุฃุฏูุงุฑ ุงูููุบุงุฉ
4. ุงุถุบุท ุนูู "๐จ๏ธ ุฅุนุงุฏุฉ ุทุจุงุนุฉ" ูุฃุญุฏ ุงูุฃุฏูุงุฑ
5. ุชุญูู ูู:
   - ุฅูุดุงุก ุฏูุฑ ุฌุฏูุฏ ุจุฑูู ูุฑูุฏ
   - ุทุจุงุนุฉ ุงูุฏูุฑ ุชููุงุฆูุงู
   - ุฅุฒุงูุฉ ุงูุฏูุฑ ูู ุงููุงุฆูุฉ
   - ุธููุฑ ุงูุฏูุฑ ูู ูุงุฆูุฉ ุงููุฑุงุฌุนูู

## ููุงุญุธุงุช
- ุงููุธุงู ูุนุฑุถ ููุท ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ ููููู ุงูุญุงูู
- ูููู ุฅุนุงุฏุฉ ุทุจุงุนุฉ ููุณ ุงูุฏูุฑ ุนุฏุฉ ูุฑุงุช (ุฅุฐุง ุชู ุฅูุบุงุคู ูุฑุฉ ุฃุฎุฑู)
- ูู ุฅุนุงุฏุฉ ุทุจุงุนุฉ ุชูุดุฆ ุฏูุฑ ุฌุฏูุฏ ุจุฑูู ูุฑูุฏ
- ุงูุฏูุฑ ุงููุฏูู ุงูููุบู ูุจูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฃุฑุดูุฉ

