# ๐ ุฅุตูุงุญ ุชุฑุชูุจ ุงุณุชุฏุนุงุก ุงููุฑุงุฌุนูู

## ๐ ุงูููุฎุต
ุชู ุฅุตูุงุญ ุชุฑุชูุจ ุงุณุชุฏุนุงุก ุงููุฑุงุฌุนูู ููููู ูู **ุงูุฃูุฏู ุฅูู ุงูุฃุญุฏุซ** (FIFO - First In First Out) ูู ุฌููุน ุงููุญุทุงุช.

## ๐ ุงููุดููุฉ
ูุงู ุงููุธุงู ูุณุชุฎุฏู `createdAt: "desc"` ุนูุฏ ุฌูุจ ุณุฌูุงุช `QueueHistory`ุ ููุง ูุนูู ุฃูู ูุงู ูุฎุชุงุฑ **ุงูุฃุญุฏุซ ุฃููุงู** ุจุฏูุงู ูู **ุงูุฃูุฏู ุฃููุงู**.

### ุงูููุฏ ุงููุฏูู โ
```typescript
orderBy: {
  createdAt: "desc", // ุงูุฃุญุฏุซ ุฃููุงู โ
}
```

### ุงูููุฏ ุงูุฌุฏูุฏ โ
```typescript
orderBy: {
  createdAt: "asc", // ุงูุฃูุฏู ุฃููุงู โ
}
```

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

### 1. `src/services/patient.service.ts`
**ุฏุงูุฉ `callNextPatient`**
- **ุงูุณุทุฑ 95-105**: ุชู ุชุบููุฑ ุชุฑุชูุจ ุฌูุจ ุณุฌู WAITING ูู `desc` ุฅูู `asc`
- **ุงููุฏู**: ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน ุงูุชุงูู ุจุชุฑุชูุจ FIFO

**ุฏุงูุฉ `callSpecificQueue`**
- **ุงูุณุทุฑ 170-179**: ุชู ุชุบููุฑ ุชุฑุชูุจ ุฌูุจ ุงูุณุฌู ูู `desc` ุฅูู `asc`
- **ุงููุฏู**: ุงุณุชุฏุนุงุก ุฏูุฑ ูุญุฏุฏ ุจุงูุฑูู

### 2. `src/services/station.service.ts`
**ุฏุงูุฉ `startService`**
- **ุงูุณุทุฑ 17-27**: ุชู ุชุบููุฑ ุชุฑุชูุจ ุฌูุจ ุณุฌู CALLED ูู `desc` ุฅูู `asc`
- **ุงููุฏู**: ุจุฏุก ุงูุฎุฏูุฉ ูููุฑุงุฌุน ุงููุณุชุฏุนู

**ุฏุงูุฉ `completeStationService`**
- **ุงูุณุทุฑ 60-72**: ุชู ุชุบููุฑ ุชุฑุชูุจ ุฌูุจ ุณุฌู IN_PROGRESS/CALLED ูู `desc` ุฅูู `asc`
- **ุงููุฏู**: ุฅููุงุก ุงูุฎุฏูุฉ ูููุฑุงุฌุน ุงููุดุท

### 3. `src/services/queue.service.ts`
**ุฏุงูุฉ `skipPatient`**
- **ุงูุณุทุฑ 473-486**: ุชู ุชุบููุฑ ุชุฑุชูุจ ุฌูุจ ุณุฌู CALLED/IN_PROGRESS ูู `desc` ุฅูู `asc`
- **ุงููุฏู**: ุชุฎุทู ุงููุฑุงุฌุน ูุฅุฑุฌุงุนู ูุขุฎุฑ ุงููุงุฆูุฉ

## โ ูุง ุชู ุงูุชุญูู ููู

### ุงูุชุฑุชูุจ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ
- โ `getStationWaitingList` ูู `queue.service.ts` ูุณุชุฎุฏู:
  ```typescript
  orderBy: [
    { priority: "desc" }, // ุงูุฃููููุฉ ุฃููุงู
    { queueNumber: "asc" }, // ุซู ุญุณุจ ุฑูู ุงูุฏูุฑ (ุงูุฃูุฏู ุฃููุงู)
  ]
  ```

### ุงูุชุฑุชูุจ ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ
- โ `QueueSidebar.tsx` ูุณุชุฎุฏู:
  ```typescript
  filteredQueues.sort((a, b) => a.queueNumber - b.queueNumber);
  ```

### ุงูุญุงูุงุช ุงูุชู ูู ุชุชุบูุฑ
ุชู ุงูุฅุจูุงุก ุนูู `createdAt: "desc"` ูู ุงูุญุงูุงุช ุงูุชุงููุฉ ูุฃููุง ููุทููุฉ:

1. **`getCancelledQueuesForToday`**: ูุนุฑุถ ุงูุฃุฏูุงุฑ ุงูููุบุงุฉ ูู ุงูุฃุญุฏุซ ุฅูู ุงูุฃูุฏู
2. **`getCurrentPatientInStation`**: ูุฌูุจ ุขุฎุฑ ุญุงูุฉ ูููุฑูุถ ุงูุญุงูู
3. **`getTodayReceptionData`**: ูุนุฑุถ ุจูุงูุงุช ุงูููู ูู ุงูุฃุญุฏุซ ุฅูู ุงูุฃูุฏู

## ๐งช ุงุฎุชุจุงุฑ ุงูุชุบููุฑุงุช

### ุณููุงุฑูู ุงูุงุฎุชุจุงุฑ
1. ุฅูุดุงุก 5 ุฃุฏูุงุฑ ูุชุชุงููุฉ: #1, #2, #3, #4, #5
2. ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน ุงูุชุงูู ูู ุฃู ูุญุทุฉ
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน #1 (ุงูุฃูุฏู)
4. ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน ุงูุชุงูู ูุฑุฉ ุฃุฎุฑู
5. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน #2

### ูุน ุงูุฃููููุฉ
1. ุฅูุดุงุก 3 ุฃุฏูุงุฑ ุนุงุฏูุฉ: #1, #2, #3
2. ุฅูุดุงุก ุฏูุฑ ูุณุชุนุฌู: #4 (priority=1)
3. ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน ุงูุชุงูู
4. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน #4 (ุฃููููุฉ ุนุงููุฉ)
5. ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน ุงูุชุงูู
6. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุงุณุชุฏุนุงุก ุงููุฑุงุฌุน #1 (ุงูุฃูุฏู ูู ุงูุนุงุฏููู)

## ๐ ุงูุชุฃุซูุฑ ุนูู ุงููุธุงู

### ุงูุฅูุฌุงุจูุงุช โ
- โ ุนุฏุงูุฉ ูู ุงุณุชุฏุนุงุก ุงููุฑุงุฌุนูู (ูู ุฌุงุก ุฃููุงู ููุฎุฏู ุฃููุงู)
- โ ุชุญุณูู ุชุฌุฑุจุฉ ุงููุฑุงุฌุนูู
- โ ูุถูุญ ูู ุชุฑุชูุจ ุงูุฎุฏูุฉ

### ููุงุญุธุงุช ๐
- ูุธุงู ุงูุฃููููุฉ (priority) ูุง ูุฒุงู ูุนูู ุจุดูู ุตุญูุญ
- ุงููุฑุงุฌุนูู ุฐูู ุงูุฃููููุฉ ุงูุนุงููุฉ ููุณุชุฏุนูู ุฃููุงู ุจุบุถ ุงููุธุฑ ุนู ุฑูู ุงูุฏูุฑ
- ุจูู ุงููุฑุงุฌุนูู ุจููุณ ุงูุฃููููุฉุ ููุณุชุฏุนู ุงูุฃูุฏู ุฃููุงู

## ๐ ุงูุงุณุชุฎุฏุงู

ูุง ุญุงุฌุฉ ูุฃู ุชุบููุฑุงุช ูู ุงูุงุณุชุฎุฏุงู. ุงููุธุงู ุณูุนูู ุชููุงุฆูุงู ุจุงูุชุฑุชูุจ ุงูุตุญูุญ:

```bash
# ุชุดุบูู ุงูุจุฑูุงูุฌ
npm run dev
```

---

**ุชุงุฑูุฎ ุงูุฅุตูุงุญ**: 17 ุฃูุชูุจุฑ 2025  
**ุงูุญุงูุฉ**: โ ููุชูู

