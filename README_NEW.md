# ๐ฅ ูุธุงู ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ - Queue Management System

ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุฃุฏูุงุฑ ุงููุฑุถู ูู ุนูุงุฏุงุช ุงููุญุต ุงูุทุจู ูุจู ุงูุฒูุงุฌ.

---

## โจ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### ๐ ุงูุงุณุชุฏุนุงุก ุงูุชููุงุฆู
ุนูุฏ ุญูุธ ุงูุจูุงูุงุช ูู ุฃู ูุญุทุฉ (ุงุณุชูุจุงูุ ูุฎุชุจุฑุ ุทุจูุจ)ุ ูุชู:
- โ ุญูุธ ุงูุจูุงูุงุช
- โ ุงุณุชุฏุนุงุก ุงููุฑูุถ ุงูุชุงูู **ุชููุงุฆูุงู**
- โ ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ููุดุงุดุงุช **ููุฑุงู**

### ๐ ุซูุงุซ ูุญุทุงุช ุฑุฆูุณูุฉ

#### 1๏ธโฃ ูุญุทุฉ ุงูุงุณุชูุจุงู (Reception)
- ุชุนุจุฆุฉ ุจูุงูุงุช ุงูุฒูุฌูู ุงููุงููุฉ
- ุงูุฃุณูุงุกุ ุงูุชูุงุฑูุฎุ ุงูุฃุนูุงุฑุ ุฃุฑูุงู ุงููููุฉ
- ุงุณุชุฏุนุงุก ุชููุงุฆู ูููุฑูุถ ุงูุชุงูู

#### 2๏ธโฃ ูุญุทุฉ ุงููุฎุชุจุฑ (Lab)
- ูุญุต ุงูุญุงูุฉ ุงูุตุญูุฉ ููู ูู ุงูุฒูุฌูู
- ุชุณุฌูู: ุณููู (HEALTHY) ุฃู ุบูุฑ ุณููู (UNHEALTHY)
- ููุงุญุธุงุช ูููุตูุฉ ููู ูุฑูุถ
- ุงุณุชุฏุนุงุก ุชููุงุฆู ูููุฑูุถ ุงูุชุงูู

#### 3๏ธโฃ ูุญุทุฉ ุงูุทุจูุจ (Doctor)
- ุชุณุฌูู ูุตุงุฆู ุงูุฏู
- ูุญุต ุงูุฃูุฑุงุถ: HIV, HBS, HBC
- ุญุงูุฉ ูู ูุฑุถ: ุฅูุฌุงุจู (POSITIVE) ุฃู ุณูุจู (NEGATIVE)
- ููุงุญุธุงุช ุทุจูุฉ ููุตูุฉ
- ุงุณุชุฏุนุงุก ุชููุงุฆู ูููุฑูุถ ุงูุชุงูู

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงููุชุทูุจุงุช
- Node.js v18+
- MySQL Database
- npm ุฃู yarn

### ุงูุชุซุจูุช
```bash
# 1. ุชุซุจูุช ุงูุญุฒู
npm install

# 2. ุฅุนุฏุงุฏ ุงูุจูุฆุฉ
cp .env.example .env
# ุนุฏูู DATABASE_URL ูู .env

# 3. ุชุดุบูู Migrations
npx prisma migrate dev

# 4. ุชุดุบูู ุงูุฎุงุฏู
npm run dev
```

ุงูุฎุงุฏู ูุนูู ุนูู: **http://localhost:3001**

---

## ๐ ุงูุชูุซูู

### ๐ ุงูุฃุฏูุฉ ุงูุฑุฆูุณูุฉ
- **[QUICK_START.md](QUICK_START.md)** - ุฏููู ุงูุจุฏุก ุงูุณุฑูุน
- **[API_USAGE_GUIDE.md](API_USAGE_GUIDE.md)** - ุฏููู ุงุณุชุฎุฏุงู API ุงููุงูู
- **[CHANGES_SUMMARY.md](CHANGES_SUMMARY.md)** - ููุฎุต ุงูุชุนุฏููุงุช
- **[IMPLEMENTATION_COMPLETE.md](IMPLEMENTATION_COMPLETE.md)** - ุชูุงุตูู ุงูุชูููุฐ

### ๐ง ูููุงุช ุฅุถุงููุฉ
- **[API_EXAMPLES.http](API_EXAMPLES.http)** - ุฃูุซูุฉ API (Thunder Client/Postman)

---

## ๐ฏ ุงูู API Endpoints

### ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
```
POST   /api/queue/create          # ุฅูุดุงุก ุฏูุฑ ุฌุฏูุฏ
GET    /api/queue/active          # ุงูุฃุฏูุงุฑ ุงููุดุทุฉ
GET    /api/queue/:id             # ุชูุงุตูู ุฏูุฑ ูุนูู
```

### ุงููุญุทุงุช
```
GET    /api/stations                         # ุฌููุน ุงููุญุทุงุช
POST   /api/stations/:id/call-next          # ุงุณุชุฏุนุงุก ุงูุชุงูู
GET    /api/stations/:id/waiting-list       # ูุงุฆูุฉ ุงูุงูุชุธุงุฑ
POST   /api/stations/:id/complete-service   # ุฅููุงุก ุงูุฎุฏูุฉ
```

### ๐ ุจูุงูุงุช ุงููุญุทุงุช (ูุน ุงูุงุณุชุฏุนุงุก ุงูุชููุงุฆู)
```
POST   /api/reception      # ุญูุธ ุจูุงูุงุช ุงูุงุณุชูุจุงู + ุงุณุชุฏุนุงุก ุชููุงุฆู
GET    /api/reception/:id  # ุนุฑุถ ุจูุงูุงุช ุงูุงุณุชูุจุงู
PUT    /api/reception/:id  # ุชุญุฏูุซ ุจูุงูุงุช ุงูุงุณุชูุจุงู

POST   /api/lab            # ุญูุธ ุจูุงูุงุช ุงููุฎุชุจุฑ + ุงุณุชุฏุนุงุก ุชููุงุฆู
GET    /api/lab/:id        # ุนุฑุถ ุจูุงูุงุช ุงููุฎุชุจุฑ
PUT    /api/lab/:id        # ุชุญุฏูุซ ุจูุงูุงุช ุงููุฎุชุจุฑ

POST   /api/doctor         # ุญูุธ ุจูุงูุงุช ุงูุทุจูุจ + ุงุณุชุฏุนุงุก ุชููุงุฆู
GET    /api/doctor/:id     # ุนุฑุถ ุจูุงูุงุช ุงูุทุจูุจ
PUT    /api/doctor/:id     # ุชุญุฏูุซ ุจูุงูุงุช ุงูุทุจูุจ
```

### ุงููุฑุถู ูุงูุฅุญุตุงุฆูุงุช
```
POST   /api/patients             # ุฅูุดุงุก ูุฑูุถ
GET    /api/patients/search      # ุงูุจุญุซ ุนู ูุฑูุถ
GET    /api/stats/today          # ุฅุญุตุงุฆูุงุช ุงูููู
GET    /api/display/data         # ุจูุงูุงุช ุงูุดุงุดุฉ
```

---

## ๐ก ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

### 1. ุฅูุดุงุก ุฏูุฑ ุฌุฏูุฏ
```bash
curl -X POST http://localhost:3001/api/queue/create \
  -H "Content-Type: application/json" \
  -d '{"name": "ุฃุญูุฏ ูุญูุฏ", "phoneNumber": "0501234567"}'
```

### 2. ุญูุธ ุจูุงูุงุช ุงูุงุณุชูุจุงู (ูุณุชุฏุนู ุงูุชุงูู ุชููุงุฆูุงู)
```bash
curl -X POST http://localhost:3001/api/reception \
  -H "Content-Type: application/json" \
  -d '{
    "queueId": 1,
    "patientId": 1,
    "maleName": "ุฃุญูุฏ",
    "maleLastName": "ูุญูุฏ",
    ...
  }'
```

### 3. ุญูุธ ุจูุงูุงุช ุงููุฎุชุจุฑ (ูุณุชุฏุนู ุงูุชุงูู ุชููุงุฆูุงู)
```bash
curl -X POST http://localhost:3001/api/lab \
  -H "Content-Type: application/json" \
  -d '{
    "queueId": 1,
    "patientId": 1,
    "isMaleHealthy": "HEALTHY",
    "isFemaleHealthy": "HEALTHY"
  }'
```

### 4. ุญูุธ ุจูุงูุงุช ุงูุทุจูุจ (ูุณุชุฏุนู ุงูุชุงูู ุชููุงุฆูุงู)
```bash
curl -X POST http://localhost:3001/api/doctor \
  -H "Content-Type: application/json" \
  -d '{
    "queueId": 1,
    "patientId": 1,
    "maleHIVstatus": "NEGATIVE",
    "femaleHIVstatus": "NEGATIVE",
    ...
  }'
```

---

## ๐๏ธ ุงูุจููุฉ

```
final_waiting_system/
โโโ src/
โ   โโโ controllers/          # ุงููุชุญููุงุช
โ   โ   โโโ reception.controller.ts    # ๐
โ   โ   โโโ lab.controller.ts          # ๐
โ   โ   โโโ doctor.controller.ts       # ๐
โ   โ   โโโ queue.controller.ts
โ   โ   โโโ station.controller.ts
โ   โ   โโโ ...
โ   โโโ services/             # ุงูุฎุฏูุงุช
โ   โ   โโโ reception.service.ts       # ๐
โ   โ   โโโ lab.service.ts             # ๐
โ   โ   โโโ doctor.service.ts          # ๐
โ   โ   โโโ queue.service.ts
โ   โ   โโโ station.service.ts
โ   โ   โโโ ...
โ   โโโ routes/               # ุงููุณุงุฑุงุช
โ   โ   โโโ reception.routes.ts        # ๐
โ   โ   โโโ lab.routes.ts              # ๐
โ   โ   โโโ doctor.routes.ts           # ๐
โ   โ   โโโ ...
โ   โโโ websocket/            # WebSocket
โ   โโโ types/                # ุงูุฃููุงุน
โ   โโโ index.ts              # ููุทุฉ ุงูุฏุฎูู
โโโ prisma/
โ   โโโ schema.prisma         # ูููุฐุฌ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ migrations/           # ุงููุฌุฑุงุช
โโโ web/                      # ุงููุงุฌูุฉ ุงูุฃูุงููุฉ (React)
โโโ md/                       # ุงูุชูุซูู ุงููุฏูู
```

---

## ๐ก WebSocket Events

### ุงูุฃุญุฏุงุซ ุงูููุฑุณูุฉ

#### `patient-called`
ููุฑุณู ุนูุฏ ุงุณุชุฏุนุงุก ูุฑูุถ ุชููุงุฆูุงู
```json
{
  "queueNumber": 5,
  "displayNumber": 1,
  "stationId": 1,
  "calledAt": "2025-10-12T10:30:00.000Z"
}
```

#### `screen-data-updated`
ููุฑุณู ูุชุญุฏูุซ ุจูุงูุงุช ุงูุดุงุดุฉ

#### `station-updated`
ููุฑุณู ุนูุฏ ุชุญุฏูุซ ุญุงูุฉ ูุญุทุฉ

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ
- `Patient` - ุจูุงูุงุช ุงููุฑุถู
- `Queue` - ุงูุฃุฏูุงุฑ ุงููุดุทุฉ
- `QueueHistory` - ุณุฌู ุชุญุฑูุงุช ุงูุฃุฏูุงุฑ
- `Station` - ุงููุญุทุงุช
- `ReceptionData` - ๐ ุจูุงูุงุช ุงูุงุณุชูุจุงู
- `LabData` - ๐ ุจูุงูุงุช ุงููุฎุชุจุฑ
- `DoctorData` - ๐ ุจูุงูุงุช ุงูุทุจูุจ
- `CompletedVisit` - ุงูุฒูุงุฑุงุช ุงูููุชููุฉ

---

## ๐ ุงูุฃูุงู

- โ Validation ููุจูุงูุงุช ุงูููุฏุฎูุฉ
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ TypeScript ููุชุญูู ูู ุงูุฃููุงุน
- โ Prisma ORM ูููุน SQL Injection

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
```bash
npm test
```

### ุงุฎุชุจุงุฑ ูุฏูู
ุงุณุชุฎุฏู ููู `API_EXAMPLES.http` ูุน Thunder Client ุฃู Postman

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุงููุชุงุญุฉ
- ุฅุญุตุงุฆูุงุช ุงูููู
- ุฅุญุตุงุฆูุงุช ุงููุญุทุงุช
- ุฃููุงุช ุงูุงูุชุธุงุฑ
- ุนุฏุฏ ุงููุฑุถู
- ุชุงุฑูุฎ ุงูุฒูุงุฑุงุช

---

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Backend
- **Node.js** - ุจูุฆุฉ ุงูุชุดุบูู
- **Express.js** - ุฅุทุงุฑ ุงูุนูู
- **TypeScript** - ูุบุฉ ุงูุจุฑูุฌุฉ
- **Prisma** - ORM ููุงุนุฏุฉ ุงูุจูุงูุงุช
- **Socket.IO** - WebSocket ููุชุญุฏูุซุงุช ุงูููุฑูุฉ
- **MySQL** - ูุงุนุฏุฉ ุงูุจูุงูุงุช

### Frontend
- **React** - ูุงุฌูุฉ ุงููุณุชุฎุฏู
- **TypeScript** - ูุบุฉ ุงูุจุฑูุฌุฉ
- **Vite** - ุฃุฏุงุฉ ุงูุจูุงุก
- **Socket.IO Client** - ุงุชุตุงู WebSocket

---

## ๐ ุงูููุงุญุธุงุช

โ๏ธ **ููู:**
- ุงูุงุณุชุฏุนุงุก ุงูุชููุงุฆู ูุญุฏุซ ููุท ุนูุฏ **POST** (ุฅุถุงูุฉ ุจูุงูุงุช ุฌุฏูุฏุฉ)
- ุงูุชุญุฏูุซ ุจุงุณุชุฎุฏุงู **PUT** ูุง ูุณุชุฏุนู ุงููุฑูุถ ุงูุชุงูู
- ุชุฃูุฏ ูู ุฅูุดุงุก ุงููุญุทุงุช ูุจู ุงูุจุฏุก
- ุฌููุน ุงูุญููู ุงูุฃุณุงุณูุฉ ูุทููุจุฉุ ูุงูููุงุญุธุงุช ุงุฎุชูุงุฑูุฉ

---

## ๐ค ุงููุณุงููุฉ

1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ Branch ุฌุฏูุฏ (`git checkout -b feature/AmazingFeature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add some AmazingFeature'`)
4. Push ุฅูู Branch (`git push origin feature/AmazingFeature`)
5. ุงูุชุญ Pull Request

---

## ๐ ุงูุฑุฎุตุฉ

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช [MIT License](LICENSE).

---

## ๐ ุงูุฏุนู

ููุฃุณุฆูุฉ ูุงูุฏุนู:
- ๐ ุฑุงุฌุน ุงูุชูุซูู ูู ูุฌูุฏ `md/`
- ๐ฌ ุงูุชุญ Issue ุนูู GitHub
- ๐ง ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ

---

## ๐ ุดูุฑ ุฎุงุต

ุดูุฑุงู ูุฌููุน ุงููุณุงูููู ูู ูุฐุง ุงููุดุฑูุน!

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-10-12

**ุงูุฅุตุฏุงุฑ:** 2.0.0 (ูุน ุงูุงุณุชุฏุนุงุก ุงูุชููุงุฆู)

